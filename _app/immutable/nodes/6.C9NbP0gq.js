import"../chunks/DsnmJJEf.js";import{aZ as K,a_ as X,a$ as J,o as O,p as V,q as Q,A as $,B as ee,C as te,D as ae,I as re,U as ne,G as se,at as z,aY as P,a as g,au as A,c as x,aM as W,g as p,aW as B,s as k,r as y,ax as Y,aw as N,t as S,aA as oe,Y as ie,f as D,av as le,a3 as G,n as I,W as ce,h as de,$ as fe}from"../chunks/BAyQ-u7M.js";import{s as M,e as q}from"../chunks/Db2s9hl6.js";import{i as me}from"../chunks/7DGMFK_8.js";import{e as U,i as j}from"../chunks/DFBHM9IF.js";import{s as E}from"../chunks/CSzx4h4e.js";import{b as ue}from"../chunks/Bfa8hKEb.js";import{G as R}from"../chunks/DN6NtdG5.js";import{s as Z}from"../chunks/Ke4v9qem.js";import{o as he}from"../chunks/DZ1eoBPO.js";import{b as ve}from"../chunks/CySC437j.js";import{p as ge}from"../chunks/CJuPPkjl.js";function pe(d,e,l){V&&Q();var f=d,c=ne,m,t,n=null,h=K()?X:J;function a(){m&&se(m),n!==null&&(n.lastChild.remove(),f.before(n),n=null),m=t}O(()=>{if(h(c,c=e())){var u=f,o=ae();o&&(n=document.createDocumentFragment(),n.append(u=$())),t=ee(()=>l(u)),o?te.add_callback(a):a()}}),V&&(f=re)}function _e(d,e,l){var f=d==null?"":""+d;return f===""?null:f}function xe(d,e,l,f,c,m){var t=d.__className;if(V||t!==l||t===void 0){var n=_e(l);(!V||n!==d.getAttribute("class"))&&(n==null?d.removeAttribute("class"):d.className=n),d.__className=l}return m}var ye=P('<path stroke="#2d3748" stroke-width="2" fill="none" opacity="0.8"></path>'),we=P('<text class="odd:invisible md:odd:visible" y="50" font-size="20"> </text>'),be=P("<!><!>",1),ke=P('<path stroke-width="2" stroke="#000" fill="rgb(80, 176, 207)"></path>'),De=P('<svg class="inset-0 w-full h-[10vh] min-h-[60px] pointer-events-none flex-shrink-0" xmlns="http://www.w3.org/2000/svg"><!><!></svg>');function Ce(d,e){z(e,!0);const l=30;let f=N(0);const c=B(()=>p(f)-40),m=B(()=>e.endYear-e.startYear+1);function t(r){return p(c)/(p(m)+2)*r}function n(r){const s=e.endYear-r.getUTCFullYear(),i=p(c)/(p(m)+2);let _=i*r.getMonth()/12;return s===0&&(_=0),i*s-_+R(10,16)}var h=De(),a=x(h);pe(a,()=>e.selectedRange,r=>{var s=be(),i=W(s);U(i,17,()=>({length:p(m)}),j,(v,w,C)=>{var b=ye();S(L=>E(b,"d",L),[()=>`M ${t(C)+R(10,16)},0 L ${t(C)+R(12,14)},${l}`]),g(v,b)});var _=k(i);U(_,17,()=>({length:p(m)}),j,(v,w,C)=>{var b=we(),L=x(b,!0);y(b),S((F,H)=>{E(b,"x",F),E(b,"transform",H),M(L,C==0?"present":e.endYear-C)},[()=>t(C)+4,()=>`rotate(${R(-10,-20)} ${t(C)},50)`]),g(v,b)}),g(r,s)});var u=k(a);{var o=r=>{var s=ke();S(i=>E(s,"d",i),[()=>`M ${n(e.selectedRange.end)} 0.714 L ${n(e.selectedRange.start)} 0.024 L ${n(e.selectedRange.start)} ${R(10,15)} L ${n(e.selectedRange.end)} ${R(10,15)} L ${n(e.selectedRange.end)} 0.714 Z`]),g(r,s)};me(u,r=>{e.selectedRange&&r(o)})}y(h),ue("innerWidth",r=>Y(f,r,!0)),g(d,h),A()}var Re=D('<div><!> <div class="h-[25vh] mt-[10vh] flex-shrink-0 flex justify-center items-center"><img class="w-1/2 max-w-sm md:w-1/4 h-fit object-scale-down" src="/end_of_letter.svg" alt="end of the letter"/></div></div>');function Se(d,e){z(e,!0);let l=N(oe({start:new Date,end:new Date})),f=0;const c={entries:new Map,scrollValues:[],add(a,u,o){const r={element:a,start:u,end:o};this.entries.set(a,r),this.scrollValues.push({threshold:a.offsetTop-a.parentElement.offsetTop,record:r}),this.entries.size==1&&(Y(l,{start:u,end:o},!0),e.onSelectionChanged(p(l))),this.scrollValues.sort((s,i)=>s.threshold-i.threshold)},remove(a){this.entries.delete(a)},updateScrollValues(){this.scrollValues=[],this.entries.forEach(a=>{this.scrollValues.push({threshold:a.element.offsetTop-a.element.parentElement.offsetTop,record:a})}),this.scrollValues.sort((a,u)=>a.threshold-u.threshold)}};function m(a){let o=a.target.scrollTop;const r=o-f;f=o;const s=r>0;s?o+=40:o-=40/2;for(const[i,_]of c.scrollValues.entries()){if(s){if(_.threshold>=o)return}else if(_.threshold<o)continue;const v=c.scrollValues[i+(s?1:-1)];if(v===void 0||s&&v.threshold>=o||!s&&v.threshold<=o){const w={start:_.record.start,end:_.record.end};p(l).start!=w.start&&p(l).end!=w.end&&(Y(l,w,!0),e.onSelectionChanged(w))}}}ie("work_experience_registry",c);var t=Re(),n=B(()=>c.updateScrollValues.bind(c));q("resize",le,function(...a){p(n)?.apply(this,a)});var h=x(t);Z(h,()=>e.children??G),I(2),y(t),S(()=>xe(t,1,`flex flex-col gap-12 ${e.class??""??""}`)),q("scroll",t,m),g(d,t),A()}var Pe=D('<div class="flex flex-col"><div class="flex flex-col md:flex-row gap-2 md:items-center mb-2 font-mono"><span class="text-xl md:text-xl xl:text-3xl font-bold"> </span> <span class="text-xl md:text-xl xl:text-2xl"> </span> <span class="flex-1 md:text-right md:text-lg xl:text-xl"> </span></div> <ul class="font-mono text-lg md:text-xl xl:text-2xl lg:mr-32 mt-4 space-y-2"><!></ul></div>');function T(d,e){z(e,!0);const l=ce("work_experience_registry"),f=ge(e,"present",3,!1);let c;function m(v){return v.toLocaleString("en-US",{month:"short",year:"numeric"})}he(()=>{l.add(c,e.start,e.end)});var t=Pe(),n=x(t),h=x(n),a=x(h,!0);y(h);var u=k(h,2),o=x(u);y(u);var r=k(u,2),s=x(r);y(r),y(n);var i=k(n,2),_=x(i);Z(_,()=>e.children??G),y(i),y(t),ve(t,v=>c=v,()=>c),S((v,w)=>{M(a,e.title),M(o,`at ${e.employer??""}`),M(s,`${v??""} -
			${w??""}`)},[()=>m(e.start),()=>f()?"Present":m(e.end)]),g(d,t),A()}var Ee=D('<meta name="description" content="Resume and work history of Peyman Mortazavi, excluding the open-source and personal projects."/>'),Ie=D(`<li>Spearheaded the transformation of backend systems to a microservices
			architecture, reducing service creation time from 3 weeks to 2 hours.</li> <li>Architected and led the implementation effort for an enterprise
			fine-grained ReBAC capable of handling queries on large tables.</li> <li>Engineered an IAM service, achieving an 80% reduction in latency,
			maintaining a 99.99% uptime.</li> <li>Orchestrated process improvements and team ceremonies, helping in efforts
			to transforming deployment frequency to rapid 7-minute daily deployments
			from initial biweekly 3-hour deployments.</li>`,1),Me=D(`<li>Developed and maintained Kubernetes operator for various MariaDB database
			topologies.</li> <li>Refactored a large monolith into multiple libraries, reducing image sizes
			and reusing common code.</li> <li>Initiated efforts for an automatic database upgrade system.</li> <li>Added CI and automatic release notes generator for streamlined release
			procedures.</li>`,1),Ve=D(`<li>Implemented a human intelligence task software, processing 1 million tasks
			daily, replacing mTurk.</li> <li>Containerized and migrated ML pipelines to Kubernetes, enabling automatic
			scaling and reducing complexity.</li> <li>Designed an open-source configuration management library in C++ with
			wrapper libraries for Python and Java, utilized company-wide.</li> <li>Runner-up/winner of five consecutive hack-day competitions.</li> <li>Won the company value award for clever solutions.</li>`,1),Ye=D("<!> <!> <!>",1),ze=D("<!> <!>",1);function He(d,e){z(e,!0);let l=N(void 0);var f=ze();de(t=>{var n=Ee();fe.title="Peyman Mortazavi - Resume and Work History",g(t,n)});var c=W(f);Ce(c,{startYear:2017,endYear:2025,get selectedRange(){return p(l)}});var m=k(c,2);Se(m,{class:"mt-2 md:mt-6 lg:mt-12 m-6 md:m-10 xl:m-16 overflow-scroll",onSelectionChanged:t=>Y(l,t,!0),children:(t,n)=>{var h=Ye(),a=W(h);T(a,{title:"Principal Software Engineer",start:new Date(2021,11),end:new Date,employer:"Persefoni",present:!0,children:(r,s)=>{var i=Ie();I(6),g(r,i)},$$slots:{default:!0}});var u=k(a,2);T(u,{title:"Senior Software Engineer",start:new Date(2021,3),end:new Date(2021,11),employer:"Maria DB",children:(r,s)=>{var i=Me();I(6),g(r,i)},$$slots:{default:!0}});var o=k(u,2);T(o,{title:"Backend Engineer",employer:"Numerator (formerly InfoScout)",start:new Date(2017,0),end:new Date(2021,3),children:(r,s)=>{var i=Ve();I(8),g(r,i)},$$slots:{default:!0}}),g(t,h)},$$slots:{default:!0}}),g(d,f),A()}export{He as component};
